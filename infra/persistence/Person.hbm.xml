<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<class name = "com.exist.ecc.core.model.Person" table = "PERSON">
		<id name = "id" type = "int" column = "id">
			<generator class = "increment"/>
		</id>

	    <component name = "name" class = "com.exist.ecc.core.model.Name">
			<property name = "firstName"  column = "first_name"  type = "string" not-null = "true"/>
			<property name = "middleName" column = "middle_name" type = "string"/>
			<property name = "lastName"   column = "last_name"   type = "string"/>
			<property name = "suffix"     column = "suffix"      type = "string"/>
			<property name = "title"      column = "title"       type = "string"/>
		</component>

		<component name = "address" class = "com.exist.ecc.core.model.Address">
			<property name = "streetNumber" column = "street_number" type = "int"/>
			<property name = "barangay"     column = "barangay"      type = "string"/>
			<property name = "municipality" column = "municipality"  type = "string"/>
			<property name = "zipcode"      column = "zipcode"       type = "string"/>
		</component>

		<property name = "birthDate"         column = "birth_date"         type = "date"/>
		<property name = "dateHired"         column = "date_hired"         type = "date"/>
		<property name = "currentlyEmployed" column = "currently_employed" type = "boolean"/>
		<property name = "gwa"               column = "gwa"                type = "double"/>

		<set name = "contacts" cascade = "all">
			<key column = "person_id"/>
			<one-to-many class = "com.exist.ecc.core.model.Contact"/>
		</set>

		<set name = "roles" cascade = "save-update" table = "PERSON_ROLE">
			<key column = "person_id"/>
			<many-to-many column = "role_id" class = "com.exist.ecc.core.model.Role"/>
		</set>

	</class>
</hibernate-mapping>
